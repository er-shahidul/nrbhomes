{% extends "metronic.html.twig" %}

{% block pageTitle %}<h1>{{ 'NRB HOMES'|trans }}</h1>{% endblock %}

{% block body %}
    <!-- BEGIN PAGE BREADCRUMB -->
    <ul class="page-breadcrumb breadcrumb">
        <li>
            <a href="{{ path('dashboard') }}">{{ 'Dashboard'|trans }}</a><i class="fa fa-circle"></i>
        </li>
        <li class="active">
            {{ 'Users List'|trans }}
        </li>
    </ul>
    <!-- END PAGE BREADCRUMB -->
    <!-- BEGIN PAGE CONTENT INNER -->
    <div class="row">
        <form class="form-horizontal" id="form-create-mouza" role="form" method="post" action="{{ form_action }}">

            <div class="col-md-12" id="purchased_land">
                {#{% include 'flash.html.twig' %}#}
                <div class="portlet light">

                    <div class="portlet-title">
                        <div class="caption caption-md">
                            <i class="icon-bar-chart theme-font hide"></i>
                            <span class="caption-subject theme-font bold uppercase">{{ 'Purchased Land'|trans }}</span>
                        </div>
                    </div>

                    <div class="portlet-body">

                        <div class="form-body">
                            <div class="form-group">
                                <label class="col-md-3 control-label">{{ 'Land owner name'|trans }}</label>
                                <div class="col-md-5">
                                    {{ form_widget(form.landOwnerName) }}
                                    <span class="help-block"></span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label">{{ 'Land owner address'|trans }}</label>
                                <div class="col-md-5">
                                    {{ form_widget(form.address) }}
                                    <span class="help-block"></span>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-md-3 control-label">{{ 'Land Type'|trans }}</label>
                                <div class="col-md-5">
                                    {{ form_widget(form.landType) }}
                                    <span class="help-block"></span>
                                </div>
                            </div>

                        </div>
                        {{ form_row(form._token) }}
                        <table class="table table-bordered table-striped table-condensed flip-content table-list" style="margin-bottom: 0" id="table-dag" data-prototype="
                                    {% filter escape %}
                                        {{ include('AppBundle:Purchasedland:purchased_land_relation_prototype.html.twig', { 'form': form.purchasedLandRelation.vars.prototype}) }}
                                    {% endfilter %}">
                            <thead>
                            <tr>
                                <th style="vertical-align: middle;">{{ 'Mouza'|trans }}
                                    <span class="btn-set pull-right">
                                        <a data-toggle="modal" data-target="#ajax" class="btn custom-btn-xs yellow" href="{{ path('mouza_add') }}"><i class="fa fa-plus"></i>
                                        </a>
                                    </span>
                                </th>
                                <th style="vertical-align: middle;">{{ 'Dager Number'|trans }}</th>
                                <th style="vertical-align: middle">Purchased Total Area</th>
                                <th style="text-align: center"></th>
                            </tr>
                            </thead>
                            <tbody id="record-list-dag">
                            {% for entity in form.purchasedLandRelation %}
                                <tr>
                                    {{ include('AppBundle:Purchasedland:purchased_land_relation_prototype.html.twig', { 'form': entity }) }}
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>


                        <div class="clearfix">
                            <div class="btn-set pull-right">
                                <a class="btn custom-btn-xs yellow" id="add-dag" href="javascript:;">
                                    {{ 'Add Record'|trans }} <i class="fa fa-plus"></i>
                                </a>
                            </div>
                        </div>
                        <div class="form-actions">
                            <div class="row">
                                <div class="col-md-offset-3 col-md-9">
                                    <button type="submit" class="btn green">{{ 'Save'|trans }}</button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </form>



        <div class="modal fade" id="ajax" role="basic" aria-hidden="true">
            <div class="modal-dialog">
                <div id="mod-content" class="modal-content">
                    <div class="modal-body">
                        <img src="{{ asset('assets/layout3/img/loading-spinner-grey.gif') }}" alt="" class="loading">
                        <span> &nbsp;&nbsp;Loading... </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- END PAGE CONTENT INNER -->
{% endblock %}


{% block include_javascripts %}
    {{ parent() }}
    <script type="text/javascript">
        var dagCount = '{{ (form.purchasedLandRelation is defined) ? form.purchasedLandRelation|length : 0  }}';
    </script>
    <script src="{{ asset('bundles/app/purchased-land.js') }}" type="text/javascript"></script>
{% endblock %}